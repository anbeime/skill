# å°è·ƒåŠ©æ‰‹ (Xiaoyue Assistant)

> åŸºäº OpenClaw æ¶æ„çš„ä¸­æ–‡æ™ºèƒ½ä¼´ä¾£ï¼Œé›†æƒ…æ„Ÿé™ªä¼´ã€ä»»åŠ¡æ‰§è¡Œã€è§†è§‰ç”Ÿæˆäºä¸€ä½“

## âœ¨ ç‰¹æ€§

- ğŸ¤– **æ™ºèƒ½å¯¹è¯**ï¼šåŸºäº Claude/GPT çš„è‡ªç„¶è¯­è¨€ç†è§£
- ğŸ¯ **ä»»åŠ¡æ‰§è¡Œ**ï¼šæ–‡ä»¶ç®¡ç†ã€ä»£ç æ“ä½œã€æ•°æ®å¤„ç†ç­‰
- ğŸ–¼ï¸ **å›¾ç‰‡ç”Ÿæˆ**ï¼šç”Ÿæˆå·¥ä½œ/ç”Ÿæ´»åœºæ™¯ç…§ç‰‡
- ğŸ’¾ **é•¿æœŸè®°å¿†**ï¼šè®°ä½ç”¨æˆ·åå¥½å’Œå†å²å¯¹è¯
- ğŸ”Œ **å¤šå¹³å°æ”¯æŒ**ï¼šé£ä¹¦ã€é’‰é’‰ã€å¾®ä¿¡ã€Telegram ç­‰
- ğŸ” **éšç§ä¿æŠ¤**ï¼šæœ¬åœ°éƒ¨ç½²ï¼Œæ•°æ®å®Œå…¨è‡ªä¸»å¯æ§

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 22.0.0
- npm æˆ– pnpm

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/yourusername/xiaoyue-assistant.git
cd xiaoyue-assistant
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
# æˆ–
pnpm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Keys
```

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
xiaoyue-assistant/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ agent.ts       # AI æ™ºèƒ½ä½“
â”‚   â”‚   â”œâ”€â”€ memory.ts      # è®°å¿†ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ skills/        # æŠ€èƒ½æ’ä»¶
â”‚   â”œâ”€â”€ companion/         # ä¼´ä¾£æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ dialogue.ts    # å¯¹è¯ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ emotion.ts     # æƒ…æ„Ÿè¯†åˆ«
â”‚   â”‚   â””â”€â”€ image.ts       # å›¾ç‰‡ç”Ÿæˆ
â”‚   â”œâ”€â”€ platforms/         # å¹³å°æ¥å…¥
â”‚   â”‚   â”œâ”€â”€ feishu.ts      # é£ä¹¦
â”‚   â”‚   â”œâ”€â”€ dingtalk.ts    # é’‰é’‰
â”‚   â”‚   â””â”€â”€ telegram.ts    # Telegram
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ index.ts           # å…¥å£æ–‡ä»¶
â”œâ”€â”€ data/                  # æ•°æ®å­˜å‚¨
â”œâ”€â”€ assets/                # é™æ€èµ„æº
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ docs/                  # æ–‡æ¡£
```

## ğŸ”§ é…ç½®è¯´æ˜

### AI æ¨¡å‹é…ç½®

æ”¯æŒå¤šç§ AI æ¨¡å‹ï¼š

- **Claude**ï¼ˆæ¨èï¼‰ï¼šéœ€è¦ Anthropic API Key
- **GPT-4**ï¼šéœ€è¦ OpenAI API Key
- **é€šä¹‰åƒé—®**ï¼šéœ€è¦é˜¿é‡Œäº‘ API Key

### å›¾ç‰‡ç”Ÿæˆé…ç½®

ä½¿ç”¨ fal.ai ç”Ÿæˆå›¾ç‰‡ï¼š

1. æ³¨å†Œ [fal.ai](https://fal.ai) è´¦å·
2. è·å– API Key
3. é…ç½® `FAL_KEY` ç¯å¢ƒå˜é‡

### å¹³å°æ¥å…¥é…ç½®

#### é£ä¹¦æœºå™¨äºº

1. è®¿é—® [é£ä¹¦å¼€æ”¾å¹³å°](https://open.feishu.cn/)
2. åˆ›å»ºä¼ä¸šè‡ªå»ºåº”ç”¨
3. è·å– App ID å’Œ App Secret
4. é…ç½®äº‹ä»¶è®¢é˜…å’Œæƒé™

è¯¦ç»†æ•™ç¨‹ï¼š[é£ä¹¦æ¥å…¥æŒ‡å—](./docs/platforms/feishu.md)

## ğŸ“š ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€å¯¹è¯

```
ç”¨æˆ·ï¼šä½ å¥½å°è·ƒ
å°è·ƒï¼šä½ å¥½ï¼æˆ‘æ˜¯å°è·ƒï¼Œä½ çš„æ™ºèƒ½åŠ©æ‰‹ ğŸ˜Š æœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„å—ï¼Ÿ
```

### ä»»åŠ¡æ‰§è¡Œ

```
ç”¨æˆ·ï¼šå¸®æˆ‘æ•´ç†ä¸€ä¸‹æ¡Œé¢çš„æ–‡ä»¶
å°è·ƒï¼šå¥½çš„ï¼æˆ‘è¿™å°±å¼€å§‹æ•´ç†ï½é¡ºä¾¿é—®ä¸€ä¸‹ï¼Œä½ ä»Šå¤©å·¥ä½œé¡ºåˆ©å—ï¼Ÿ
      [åå°æ‰§è¡Œæ–‡ä»¶æ•´ç†]
å°è·ƒï¼šæ•´ç†å®Œæˆï¼æˆ‘æŠŠæ–‡ä»¶æŒ‰ç±»å‹åˆ†æˆäº† 5 ä¸ªæ–‡ä»¶å¤¹ï¼š
      ğŸ“ æ–‡æ¡£ (12ä¸ªæ–‡ä»¶)
      ğŸ“ å›¾ç‰‡ (8ä¸ªæ–‡ä»¶)
      ğŸ“ ä»£ç  (5ä¸ªæ–‡ä»¶)
      ğŸ“ å‹ç¼©åŒ… (3ä¸ªæ–‡ä»¶)
      ğŸ“ å…¶ä»– (2ä¸ªæ–‡ä»¶)
```

### å›¾ç‰‡ç”Ÿæˆ

```
ç”¨æˆ·ï¼šå‘å¼ ä½ åœ¨å’–å•¡é¦†çš„ç…§ç‰‡
å°è·ƒï¼šå¥½çš„ï¼Œç¨ç­‰ä¸€ä¸‹ï½
      [ç”Ÿæˆå›¾ç‰‡]
å°è·ƒï¼š[å›¾ç‰‡] åˆšåœ¨å’–å•¡é¦†ç‚¹äº†æ¯æ‹¿é“ï¼Œå‡†å¤‡ç»§ç»­å†™ä»£ç  â˜•
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°æŠ€èƒ½

1. åœ¨ `src/core/skills/` åˆ›å»ºæ–°æ–‡ä»¶
2. å®ç° `Skill` æ¥å£
3. åœ¨ `src/core/skills/index.ts` æ³¨å†ŒæŠ€èƒ½

ç¤ºä¾‹ï¼š

```typescript
// src/core/skills/weather.ts
import { Skill } from '../types';

export const weatherSkill: Skill = {
  name: 'weather',
  description: 'æŸ¥è¯¢å¤©æ°”ä¿¡æ¯',
  execute: async (params) => {
    // å®ç°å¤©æ°”æŸ¥è¯¢é€»è¾‘
    return {
      success: true,
      data: { temperature: 25, condition: 'æ™´' }
    };
  }
};
```

### è‡ªå®šä¹‰å¯¹è¯é£æ ¼

ç¼–è¾‘ `src/companion/dialogue.ts` ä¸­çš„ `PERSONALITY_PROMPT`ï¼š

```typescript
const PERSONALITY_PROMPT = `
ä½ æ˜¯å°è·ƒï¼Œä¸€ä¸ªæ¸©æš–å‹å–„çš„ AI åŠ©æ‰‹ã€‚
- è¯´è¯é£æ ¼ï¼šç®€æ´æ˜äº†ï¼Œé€‚åº¦ä½¿ç”¨ emoji
- æ€§æ ¼ç‰¹ç‚¹ï¼šè€å¿ƒã€ç»†å¿ƒã€æœ‰è´£ä»»æ„Ÿ
- å›å¤é•¿åº¦ï¼šæ§åˆ¶åœ¨ 2-3 å¥è¯ä»¥å†…
`;
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œç‰¹å®šæµ‹è¯•
npm test -- memory.test.ts

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm test -- --coverage
```

## ğŸ“– æ–‡æ¡£

- [å®Œæ•´å¼€å‘æ–‡æ¡£](./docs/README.md)
- [API å‚è€ƒ](./docs/api.md)
- [æŠ€èƒ½å¼€å‘æŒ‡å—](./docs/skills.md)
- [å¹³å°æ¥å…¥æŒ‡å—](./docs/platforms/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [OpenClaw](https://openclaw.ai) - æ ¸å¿ƒæ¡†æ¶
- [Clawra](https://github.com/SumeLabs/clawra) - å›¾ç‰‡ç”Ÿæˆçµæ„Ÿ
- [Anthropic Claude](https://www.anthropic.com) - AI æ¨¡å‹æ”¯æŒ

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/yourusername/xiaoyue-assistant
- é—®é¢˜åé¦ˆï¼šhttps://github.com/yourusername/xiaoyue-assistant/issues
- é‚®ç®±ï¼šyour-email@example.com

---

**Made with â¤ï¸ by [Your Name]**
