# 智能体协作模板

## 目录
1. 预设团队配置
2. 协作流程模板
3. 常见使用场景

---

## 1. 预设团队配置

### 预设团队A：会议决策团队

**适用场景**：需要多角度分析、讨论和决策的任务

**团队组成**：
```
指挥的：
- 主持人（负责会议流程控制、议题推进）

挑毛病的：
- 技术架构师（从技术可行性角度评估）
- 市场分析师（从市场需求角度评估）
- 财务顾问（从成本收益角度评估）
- 评审员（综合评估、提出改进意见）

干活的：
- 记录员（负责记录会议内容、整理决策结果）
```

**协作流程**：
1. 主持人提出议题
2. 各评审型智能体从不同角度分析
3. 智能体之间相互讨论和辩论
4. 评审员总结评估结果
5. 达成共识并记录决策

**触发方式**：
```
"请用会议决策团队讨论[议题]"
"请组织会议评估[方案]的可行性"
```

---

### 预设团队B：OPC系统构建团队

**适用场景**：构建基于OPC三层进化论的智能系统

**团队组成**：
```
指挥的：
- 项目经理（负责项目整体规划和协调）
- 战略分析智能体（负责制定战略目标）

挑毛病的：
- 技术架构师（负责评估技术架构）
- 成本效益分析师（负责评估成本效益）
- 市场分析师（负责评估市场定位）
- 评审员（负责综合评审）

干活的：
- 自动化工程智能体（负责自动化模块设计）
- 前端工程师（负责前端界面设计）
- 后端工程师（负责后端逻辑设计）
```

**协作流程**：
1. 战略分析智能体制定战略目标
2. 项目经理制定项目计划
3. 技术架构师设计系统架构
4. 工程师团队执行开发
5. 各评审型智能体持续评估
6. 评审员进行最终验收

**触发方式**：
```
"请用OPC系统构建团队开发[系统]"
"请用OPC方法论设计[系统]的架构"
```

---

### 预设团队C：产品开发团队

**适用场景**：从0到1的产品开发项目

**团队组成**：
```
指挥的：
- 产品经理（负责产品规划和需求管理）
- 项目经理（负责项目管理和进度控制）

挑毛病的：
- 用户体验设计师（评估用户体验）
- 技术架构师（评估技术可行性）
- 市场分析师（评估市场需求）
- 财务顾问（评估成本效益）

干活的：
- 前端工程师（负责前端开发）
- 后端工程师（负责后端开发）
- 测试工程师（负责质量保证）
```

**协作流程**：
1. 产品经理定义产品需求
2. 用户体验设计师设计用户体验
3. 技术架构师设计技术架构
4. 开发团队执行开发
5. 测试工程师进行测试
6. 项目经理协调资源
7. 各评审型智能体持续评估

**触发方式**：
```
"请用产品开发团队开发[产品]"
"请设计[产品]的完整开发计划"
```

---

### 预设团队D：技术方案评估团队

**适用场景**：评估技术方案的可行性和优劣

**团队组成**：
```
指挥的：
- 技术架构师（负责技术方案设计）

挑毛病的：
- DevOps工程师（评估运维复杂度）
- 前端工程师（评估前端影响）
- 后端工程师（评估后端影响）
- 安全专家（评估安全性）
- 评审员（综合评估）

干活的：
- 记录员（记录评估结果）
```

**协作流程**：
1. 技术架构师提出技术方案
2. 各专业工程师从专业角度评估
3. 安全专家进行安全评估
4. 工程师之间讨论技术细节
5. 评审员总结评估结论
6. 记录员整理评估报告

**触发方式**：
```
"请用技术方案评估团队评估[技术方案]"
"请评估[架构]的技术可行性"
```

---

## 2. 协作流程模板

### 模板1：标准决策流程

```
Step 1: 问题定义
├─ 主持人：明确议题和目标
└─ 项目经理：提供背景信息

Step 2: 多角度分析
├─ 技术架构师：技术可行性分析
├─ 市场分析师：市场需求分析
└─ 财务顾问：成本效益分析

Step 3: 深入讨论
├─ 各智能体之间相互提问和辩论
└─ 主持人引导讨论方向

Step 4: 方案优化
├─ 根据讨论结果优化方案
└─ 评审员提出改进建议

Step 5: 最终决策
├─ 评审员综合评估
├─ 达成共识
└─ 记录员记录决策结果
```

---

### 模板2：项目执行流程

```
Phase 1: 需求分析
├─ 产品经理：定义需求
├─ 战略分析智能体：制定战略
└─ 项目经理：制定计划

Phase 2: 设计阶段
├─ 技术架构师：设计架构
├─ 用户体验设计师：设计体验
└─ 各工程师：评估可实施性

Phase 3: 开发阶段
├─ 前端工程师：开发前端
├─ 后端工程师：开发后端
├─ 自动化工程智能体：开发自动化模块
└─ 评审员：持续评审

Phase 4: 测试阶段
├─ 测试工程师：进行测试
├─ 各工程师：修复问题
└─ 评审员：质量验收

Phase 5: 部署阶段
├─ DevOps工程师：部署上线
├─ 运维工程师：监控运行
└─ 项目经理：验收交付
```

---

### 模板3：迭代优化流程

```
Iteration 1:
├─ 技术架构师：提出初始方案
├─ 各评审型智能体：评估方案
├─ 记录员：记录问题和建议
└─ 技术架构师：优化方案

Iteration 2:
├─ 技术架构师：提出优化方案
├─ 各评审型智能体：重新评估
├─ 记录员：对比方案差异
└─ 技术架构师：进一步优化

...（持续迭代直到达成共识）
```

---

## 3. 常见使用场景

### 场景1：技术选型决策

**推荐团队**：技术方案评估团队

**协作流程**：
1. 技术架构师提出技术选项
2. DevOps工程师评估运维成本
3. 前端工程师评估前端影响
4. 后端工程师评估后端影响
5. 安全专家评估安全性
6. 各工程师讨论技术细节
7. 评审员总结并给出建议

**示例**：
```
用户："请评估使用微服务架构的可行性"

智能体团队：
> 技术架构师：我建议采用微服务架构。理由如下：1）系统需要高可扩展性；2）团队规模足够大；3）业务边界清晰。

> DevOps工程师：从运维角度看，微服务架构会增加部署复杂度。建议使用容器化部署来降低复杂度。

> 前端工程师：对前端影响不大，但要注意API接口的一致性。

> 后端工程师：会增加服务间通信的复杂度，建议使用消息队列来解耦。

> 安全专家：微服务架构增加了攻击面，需要加强服务间认证和授权。

> 技术架构师：好的，那我调整方案：采用微服务架构 + 容器化部署 + 服务网格 + 统一认证。

> 评审员：综合评估，该方案技术上可行，但运维成本较高。建议：1）先试点核心服务；2）建立完善的监控体系；3）逐步推广。

> 记录员：已记录决策：采用微服务架构，先试点，再推广。
```

---

### 场景2：产品规划讨论

**推荐团队**：产品开发团队

**协作流程**：
1. 产品经理提出产品概念
2. 用户体验设计师设计用户体验
3. 市场分析师评估市场需求
4. 技术架构师评估技术可行性
5. 财务顾问评估成本效益
6. 各智能体讨论优化方案
7. 评审员给出最终建议

**示例**：
```
用户："请规划一个AI脚本生成器产品"

智能体团队：
> 产品经理：产品定位是"一键生成高质量脚本"，核心功能包括：1）多平台脚本生成；2）智能内容优化；3）批量生成。

> 用户体验设计师：我建议采用简洁的界面设计，用户只需输入主题和要求，点击生成即可。生成过程提供进度条和预览。

> 市场分析师：市场对自动化脚本生成需求很大，目标用户包括：1）视频创作者；2）营销人员；3）内容运营。

> 技术架构师：技术上可行，建议采用：1）大语言模型生成；2）多平台API对接；3）内容优化算法。

> 财务顾问：初期投入较大（模型训练、API成本），但用户量大后边际成本低。建议采用订阅制收费。

> 产品经理：根据大家的建议，我调整产品规划：1）MVP先支持主流平台；2）采用基础版+专业版订阅模式；3）核心功能优先上线。

> 评审员：综合评估，该产品方案可行。建议：1）MVP验证市场需求；2）收集用户反馈后迭代；3）逐步扩展平台支持。

> 记录员：已记录产品规划：MVP阶段 + 订阅模式 + 迭代优化。
```

---

### 场景3：代码评审会议

**推荐团队**：技术方案评估团队（调整为代码评审专用）

**协作流程**：
1. 主持人提出代码变更
2. 后端工程师评估后端代码
3. 前端工程师评估前端代码
4. 测试工程师评估测试覆盖
5. 安全专家评估安全性
6. 各工程师讨论代码质量
7. 评审员给出评审结论

**示例**：
```
用户："请评审这个API接口设计"

智能体团队：
> 主持人：今天评审的是用户注册API的设计，请大家从各自角度给出意见。

> 后端工程师：接口设计基本合理，建议：1）增加请求限流；2）密码加密传输；3）返回错误码统一规范。

> 前端工程师：接口返回格式清晰，建议：1）增加分页参数；2）提供排序选项；3）增加字段过滤。

> 测试工程师：需要补充测试场景：1）重复注册；2）弱密码注册；3）非法参数输入。

> 安全专家：安全性方面，建议：1）增加验证码；2）设置密码强度校验；3）防止暴力破解。

> 后端工程师：好的，我会采纳这些建议，更新接口设计。

> 评审员：综合评审，该接口设计通过，需补充安全和测试保障。

> 记录员：已记录评审结果：通过，需补充安全机制和测试用例。
```

---

### 场景4：敏捷回顾会议

**推荐团队**：会议决策团队（调整为回顾专用）

**协作流程**：
1. 主持人引导回顾
2. 项目经理总结项目进展
3. 各智能体分析问题和改进点
4. 智能体之间讨论解决方案
5. 评审员总结改进计划
6. 记录员记录行动计划

**示例**：
```
用户："请进行敏捷回顾，总结本周的Sprint"

智能体团队：
> 主持人：本周Sprint已经结束，让我们进行回顾。请项目经理先总结。

> 项目经理：本周完成了5个任务，延期2个任务。主要问题：1）需求变更频繁；2）技术难点预估不足。

> 技术架构师：技术难点方面，建议：1）提前进行技术预研；2）建立技术分享机制；3）引入外部专家。

> 市场分析师：需求变更频繁，建议：1）加强前期需求调研；2）建立需求变更评审流程；3）与客户充分沟通。

> 财务顾问：延期导致成本增加，建议：1）优化任务估算方法；2）预留缓冲时间；3）建立风险预案。

> 主持人：好的，我们达成了以下改进计划：1）加强需求管理；2）技术预研机制；3）优化估算方法。

> 评审员：总结改进计划：需求管理+技术预研+优化估算，责任人和时间节点已明确。

> 记录员：已记录改进计划和责任人。
```

---

## 自定义团队组合

如果预设团队不符合需求，可以根据任务特点自定义团队：

1. **明确任务目标**：任务的核心目标是什么？
2. **识别关键环节**：任务需要哪些关键步骤？
3. **选择智能体**：根据每个环节选择合适的智能体
4. **设计协作流程**：定义智能体之间的协作顺序和方式
5. **定义输出格式**：明确每个智能体的输出格式
6. **测试验证**：测试团队能否有效协作

**示例**：自定义"数据迁移项目团队"

```
任务目标：将旧系统数据迁移到新系统

关键环节：
1. 数据分析（干活的）
2. 迁移方案设计（指挥的）
3. 技术可行性评估（挑毛病的）
4. 迁移执行（干活的）
5. 验收测试（挑毛病的）

团队配置：
指挥的：
- 项目经理

挑毛病的：
- 技术架构师
- 数据库专家
- 测试工程师
- 评审员

干活的：
- 数据分析师
- 后端工程师
- 运维工程师

协作流程：
1. 数据分析师分析数据结构
2. 技术架构师设计迁移方案
3. 数据库专家评估数据库兼容性
4. 后端工程师执行迁移
5. 运维工程师监控运行
6. 测试工程师验证数据完整性
7. 评审员验收
```

---

## 产品管理场景模板

### 场景7：产品功能优先级评审会议

**适用场景**：需要评审多个功能的优先级，决定开发顺序和资源分配

**团队配置**：
```
指挥的：
- 产品经理（主持会议、展示RICE排序）

挑毛病的：
- 技术架构师（评估技术可行性和实现难度）
- 市场分析师（评估市场价值和用户需求强度）
- 财务顾问（评估成本收益和ROI）
- 评审员（综合评估和质量把控）

干活的：
- 产品经理（调用RICE脚本进行数据分析）
- 记录员（记录会议内容和决策）
```

**协作流程**：
```
Step 1: 数据准备阶段（会前）
产品经理智能体：
├─ 收集功能列表
├─ 调用 rice_prioritizer.py 生成初步排序
└─ 准备会议材料

Step 2: 会议讨论阶段（使用 multi-agent-meeting 流程）
主持人（产品经理）：
├─ 介绍会议目标和功能列表
└─ 展示 RICE 排序结果和评分依据

各专业智能体发言：
├─ 技术架构师：评估技术可行性和实现难度
├─ 市场分析师：评估市场价值和用户需求强度
└─ 财务顾问：评估成本收益和 ROI

Step 3: 辩论和共识阶段
├─ 针对争议功能展开讨论
├─ 各智能体提供专业论据
├─ 调整 RICE 评分
└─ 收敛到共识

Step 4: 决策输出阶段
├─ 最终优先级排序
├─ 每个功能的评估理由
├─ 风险和注意事项
└─ Q2/Q3 开发计划
```

**调用方式**：
```
"请用产品团队评审以下功能的优先级：
1. AI自动生成脚本
2. 多平台发布
3. 数据分析看板
4. 用户协作功能
5. API开放平台"

"评审Q2功能优先级，团队容量15人月"
```

**工具支持**：
```bash
# 优先级排序
python scripts/rice_prioritizer.py features.csv --capacity 15

# JSON输出（便于集成）
python scripts/rice_prioritizer.py features.csv --output json
```

**输出格式**：参考 multi-agent-meeting 的会议记录格式

**相关资源**：
- RICE方法：product-manager-toolkit/SKILL.md
- 会议流程：multi-agent-meeting/SKILL.md
- 脚本工具：product-manager-toolkit/scripts/rice_prioritizer.py
- 会议模板：multi-agent-meeting/assets/meeting-templates/product-feature-review.md

**示例对话**：
```
> 产品经理：根据RICE排序，AI自动生成脚本得分最高(85分)。Reach=1000用户/季度，Impact=massive，Confidence=high，Effort=3人月。

> 技术架构师：从技术角度，这个功能可行。可以使用现有大模型API，预计3人月可以完成MVP。主要风险是模型效果需要持续优化。

> 市场分析师：市场调研显示，用户对AI功能的需求强烈。竞品尚未实现，我们有先发优势。建议Q2优先上线。

> 财务顾问：初期投入约30万（人力+API成本），预计3个月回本。ROI较高，建议优先投入。

> 产品经理：基于大家的分析，AI自动生成脚本确定为P0优先级。接下来讨论多平台发布...

> 评审员：综合评估，本次评审的优先级排序合理。建议：1）AI功能Q2启动；2）多平台发布Q3启动；3）预留1人月缓冲。

> 记录员：已记录决策：P0-AI生成(Q2)，P1-多平台(Q3)，P2-API平台(Q4)。
```

---

### 场景8：客户访谈洞察分析会议

**适用场景**：分析客户访谈记录，提取关键洞察，生成产品改进方案

**团队配置**：
```
指挥的：
- 产品经理（主持会议、制定改进方案）

挑毛病的：
- 用户研究员（深入解读用户痛点）
- 设计师（从体验角度提出改进方向）
- 技术架构师（评估解决方案的技术可行性）
- 评审员（综合评估方案价值）

干活的：
- 用户研究员（调用访谈分析脚本）
- 产品经理（使用PRD模板生成需求文档）
```

**协作流程**：
```
Step 1: 数据分析阶段（会前）
用户研究员智能体：
├─ 调用 customer_interview_analyzer.py 分析访谈记录
├─ 提取痛点、功能需求、情感分析
└─ 识别关键主题和引用

Step 2: 洞察展示阶段
用户研究员：
├─ 展示分析结果
├─ 解释关键痛点
└─ 说明用户情感和态度

Step 3: 洞察讨论阶段
├─ 产品经理：从产品战略角度解读洞察
├─ 用户研究员：深入解释用户痛点和需求
├─ 设计师：从体验角度提出改进方向
└─ 技术架构师：评估解决方案的技术可行性

Step 4: 方案生成阶段
├─ 确定优先级最高的痛点
├─ 设计解决方案
├─ 评估实现难度和价值
└─ 评审员综合评估

Step 5: PRD 草稿阶段
产品经理：使用 PRD 模板生成需求文档草稿
```

**调用方式**：
```
"分析这份客户访谈记录并生成产品改进方案：
[访谈文本内容]"

"基于用户访谈，提出3个核心改进方向"
```

**工具支持**：
```bash
# 访谈分析
python scripts/customer_interview_analyzer.py interview.txt

# JSON输出
python scripts/customer_interview_analyzer.py interview.txt json
```

**相关资源**：
- 访谈分析：product-manager-toolkit/scripts/customer_interview_analyzer.py
- PRD模板：product-manager-toolkit/references/prd_templates.md
- 会议模板：multi-agent-meeting/assets/meeting-templates/customer-insight-analysis.md

**示例对话**：
```
> 用户研究员：分析结果显示，用户的核心痛点是"脚本生成速度慢"（严重程度：高，频次：每天）。用户原话："每次都要花很长时间想怎么写，太浪费时间了"。

> 产品经理：这个痛点与我们的产品战略一致。我们的目标是"1分钟生成3个脚本"，AI自动生成功能可以解决这个问题。

> 设计师：从体验角度，我建议采用"一键生成"的交互方式。用户输入关键词，系统自动生成3个不同风格的脚本供选择。

> 技术架构师：技术上可行。可以使用大语言模型API，预计响应时间30秒内。主要风险是模型效果需要持续优化。

> 评审员：综合评估，AI自动生成功能可以有效解决用户痛点。建议：1）MVP先支持基础功能；2）收集用户反馈后迭代；3）逐步优化模型效果。

> 产品经理：好的，我会编写PRD文档，定义AI自动生成功能的详细需求。
```

---

### 场景9：产品路线图规划会议

**适用场景**：制定季度或年度产品路线图，确定开发优先级和资源分配

**团队配置**：
```
指挥的：
- 产品经理（主持会议、制定路线图）
- 战略分析智能体（识别市场机会）

挑毛病的：
- 技术架构师（评估技术实现难度）
- 市场分析师（分析竞品动态和用户需求）
- 财务顾问（评估投入产出比）
- 项目经理（评估资源和时间）
- 评审员（综合评估路线图合理性）

干活的：
- 产品经理（使用RICE方法排序）
- 项目经理（制定资源分配计划）
```

**协作流程**：
```
Step 1: 机会识别
├─ 战略分析智能体：扫描市场机会
└─ 市场分析师：分析竞品动态和用户需求

Step 2: 优先级排序
产品经理：使用 RICE 方法对机会进行排序

Step 3: 可行性评估
├─ 技术架构师：评估技术实现难度
├─ 项目经理：评估资源和时间
└─ 财务顾问：评估投入产出比

Step 4: 路线图生成
├─ 产品经理：生成季度路线图
├─ 项目经理：分配资源和制定时间表
└─ 评审员：综合评估路线图合理性

Step 5: 决策输出
├─ Q2/Q3/Q4 路线图
├─ 资源分配计划
├─ 风险和依赖关系
└─ 下一步行动计划
```

**调用方式**：
```
"制定 Q2 产品路线图，当前团队容量 15 人月"

"规划2024年产品路线图，包含战略目标和关键里程碑"
```

**工具支持**：
```bash
# 优先级排序（支持容量规划）
python scripts/rice_prioritizer.py features.csv --capacity 15
```

**相关资源**：
- RICE方法：product-manager-toolkit/SKILL.md
- 战略分析：agent-team/references/opc-agents.md
- 项目管理：agent-team/references/meeting-agents.md

**示例对话**：
```
> 战略分析智能体：市场扫描显示，AI内容生成、多平台发布、数据分析是三大机会方向。其中AI内容生成市场规模最大，竞争相对较小。

> 市场分析师：竞品分析显示，主要竞品尚未实现AI自动生成功能。用户调研显示，60%的用户愿意为AI功能付费。

> 产品经理：基于RICE排序，Q2优先级为：1）AI自动生成(85分)；2）多平台发布(72分)；3）数据分析看板(58分)。

> 技术架构师：AI功能预计3人月，多平台发布预计2人月，数据分析看板预计4人月。Q2容量15人月，可以完成前两项。

> 项目经理：资源分配建议：AI功能3人月（2名工程师×1.5月），多平台2人月（1名工程师×2月），预留1人月缓冲。

> 财务顾问：AI功能初期投入30万，预计3个月回本。多平台发布边际成本低，长期价值高。建议优先投入。

> 评审员：综合评估，Q2路线图合理。建议：1）AI功能优先上线；2）多平台发布紧随其后；3）数据分析看板推迟到Q3。

> 产品经理：确定Q2路线图：AI自动生成(4-6月)，多平台发布(5-7月)。Q3路线图：数据分析看板(7-9月)，API开放平台(8-10月)。
```

---

### 场景10：产品定价策略会议

**适用场景**：制定新产品的定价策略，平衡市场竞争力和盈利能力

**团队配置**：
```
指挥的：
- 产品经理（主持会议、制定定价策略）

挑毛病的：
- 市场分析师（分析市场定价和竞品价格）
- 财务顾问（评估成本和利润）
- 销售总监（评估市场接受度）
- 用户研究员（分析用户支付意愿）
- 评审员（综合评估定价合理性）

干活的：
- 记录员（记录讨论过程和决策）
```

**协作流程**：
```
Step 1: 市场分析
├─ 市场分析师：分析竞品定价
└─ 用户研究员：分析用户支付意愿

Step 2: 成本分析
财务顾问：计算成本结构和利润目标

Step 3: 定价方案讨论
├─ 产品经理：提出定价方案
├─ 销售总监：评估市场接受度
├─ 财务顾问：评估利润空间
└─ 市场分析师：评估竞争力

Step 4: 方案优化
├─ 各智能体讨论优化方案
└─ 探索不同定价模式（订阅/按量/混合）

Step 5: 决策输出
├─ 最终定价方案
├─ 定价理由和依据
├─ 风险和应对措施
└─ 定价调整机制
```

**调用方式**：
```
"制定AI脚本生成器的定价策略"

"评估订阅制和按量付费两种定价模式"
```

**相关资源**：
- 定价框架：product-manager-toolkit/SKILL.md
- 市场分析：agent-team/references/meeting-agents.md
- 会议模板：multi-agent-meeting/assets/meeting-templates/product-pricing-strategy.md

**示例对话**：
```
> 市场分析师：竞品定价分析：A产品99元/月，B产品199元/月，C产品按量付费0.5元/次。市场主流是订阅制。

> 用户研究员：用户调研显示，60%的用户愿意支付50-150元/月，30%的用户愿意支付150-300元/月。

> 财务顾问：成本分析：API成本0.2元/次，人力成本分摊后每用户10元/月。利润目标30%，建议定价80-120元/月。

> 销售总监：从销售角度，建议采用分层定价：基础版79元/月（100次/月），专业版149元/月（500次/月），企业版定制。

> 产品经理：综合大家的建议，我提出定价方案：基础版99元/月（150次），专业版199元/月（600次），企业版定制。

> 评审员：综合评估，该定价方案合理。建议：1）上线后监控转化率；2）3个月后根据数据调整；3）提供年付优惠（8折）。

> 记录员：已记录定价策略：99元/月（基础版），199元/月（专业版），年付8折，3个月后复盘。
```
