# 详细工作流程

## 目录
- [1. 流程概览](#1-流程概览)
- [2. 内容策划详细步骤](#2-内容策划详细步骤)
- [3. 脚本创作详细步骤](#3-脚本创作详细步骤)
- [4. 视觉设计详细步骤](#4-视觉设计详细步骤)
- [5. 数字人驱动详细步骤](#5-数字人驱动详细步骤)
- [6. 视频合成详细步骤](#6-视频合成详细步骤)
- [7. 质量检查清单](#7-质量检查清单)

---

## 1. 流程概览

### 标准流程图

```
用户输入需求
    ↓
┌─────────────────────────────────────┐
│  第1步：内容策划智能体              │
│  - 分析需求                         │
│  - 选择产品                         │
│  - 定义风格                         │
│  输出：内容策划方案                 │
└─────────────────────────────────────┘
    ↓ 检查点1：策划方案合理性
┌─────────────────────────────────────┐
│  第2步：脚本创作智能体              │
│  - 撰写开场白                       │
│  - 介绍产品                         │
│  - 对比分析                         │
│  - 设计结尾                         │
│  输出：分镜脚本                     │
└─────────────────────────────────────┘
    ↓ 检查点2：脚本质量和时长
    ├─→ 第3A步：视觉设计智能体
    │      - 设计背景
    │      - 生成产品图
    │      - 设计UI元素
    │      输出：视觉设计方案
    │
    └─→ 第3B步：数字人驱动智能体
           - 定义形象
           - 设计表情
           - 规划动作
           输出：数字人方案
    ↓ 检查点3：视觉和数字人方案
┌─────────────────────────────────────┐
│  第4步：视频合成智能体              │
│  - 整合所有元素                     │
│  - 设计时间线                       │
│  - 规划转场效果                     │
│  输出：视频合成方案                 │
└─────────────────────────────────────┘
    ↓ 检查点4：合成方案完整性
    最终输出
```

### 关键时间节点

| 阶段 | 预计用时 | 依赖关系 |
|-----|---------|---------|
| 内容策划 | 2-3分钟 | 用户输入 |
| 脚本创作 | 3-5分钟 | 内容策划方案 |
| 视觉设计 | 3-5分钟 | 脚本+策划方案 |
| 数字人驱动 | 2-3分钟 | 脚本+视觉风格 |
| 视频合成 | 2-3分钟 | 所有上游输出 |
| **总计** | **12-19分钟** | - |

---

## 2. 内容策划详细步骤

### 步骤2.1：需求分析

**执行动作**：
1. 解析用户输入，提取核心信息
   - 产品类型（手机、服装、家电等）
   - 导购场景（新品推荐、爆款对比、促销活动）
   - 目标平台（淘宝、京东、拼多多、唯品会等）
   - 特殊需求（价格区间、品牌偏好等）

2. 识别隐含需求
   - 目标用户群体
   - 核心关注点（价格、性能、品质、设计等）
   - 适用场景（日常使用、商务办公、运动健身等）

**输出示例**：
```json
{
  "need_analysis": {
    "product_type": "智能手机",
    "scenario": "性价比推荐",
    "target_platform": "不限",
    "explicit_requirements": [],
    "implicit_requirements": {
      "target_audience": "学生、职场新人",
      "core_concerns": ["价格", "性能", "续航"],
      "usage_scenarios": ["日常使用", "游戏娱乐"]
    }
  }
}
```

### 步骤2.2：产品选择

**执行动作**：
1. 确定产品数量（默认3-5款）
2. 选择不同价位段的产品
3. 覆盖不同用户需求
4. 确保产品信息准确

**选择策略**：
- 如果是"性价比推荐"：选择1-2款高性价比 + 1款均衡 + 1款高端
- 如果是"爆款对比"：选择同价位段的热门产品对比
- 如果是"新品推荐"：选择近期发布的3-5款新品
- 如果是"促销活动"：选择打折力度大的热门产品

**输出示例**：
```json
{
  "product_selection": {
    "strategy": "性价比梯度",
    "products": [
      {
        "rank": 1,
        "name": "红米Note 13",
        "price": "1299元",
        "positioning": "超高性价比",
        "key_features": ["5000mAh电池", "67W快充", "120Hz高刷屏"]
      },
      {
        "rank": 2,
        "name": "realme Q5",
        "price": "1499元",
        "positioning": "颜值与性能平衡",
        "key_features": ["轻薄设计", "6400万像素", "轻薄机身"]
      },
      {
        "rank": 3,
        "name": "荣耀Play 6",
        "price": "1699元",
        "positioning": "游戏性能优先",
        "key_features": ["天玑900处理器", "120Hz高刷", "液冷散热"]
      }
    ]
  }
}
```

### 步骤2.3：风格定义

**执行动作**：
1. 确定视频基调（专业/活泼/温馨/科技感）
2. 定义视觉风格（现代/简约/科技/时尚）
3. 确定导购员人设（年龄、着装、性格）
4. 规划视频时长（默认60-120秒）

**风格匹配规则**：
- 3C数码 → 科技感、专业
- 服装时尚 → 时尚、温馨
- 家电家居 → 温馨、生活化
- 美妆护肤 → 精致、时尚
- 运动户外 → 活力、动感

**输出示例**：
```json
{
  "style_definition": {
    "tone": "专业、亲切、实用",
    "visual_style": "科技感、简洁现代",
    "avatar_personality": {
      "age": "25-28岁",
      "gender": "女性",
      "character": "专业导购员，亲切友好",
      "outfit": "简约职业装"
    },
    "video_spec": {
      "duration": "100-120秒",
      "resolution": "1920x1080",
      "frame_rate": 30
    }
  }
}
```

### 检查点1：策划方案合理性

**检查项**：
- [ ] 产品数量是否合理（3-5款）
- [ ] 产品是否覆盖不同价位和需求
- [ ] 目标用户是否明确
- [ ] 视频风格是否与产品类型匹配
- [ ] 视频时长是否在合理范围（60-120秒）

**不通过的处理**：
- 如果产品选择不合理 → 重新选择产品
- 如果风格不匹配 → 调整风格定义
- 如果时长不合理 → 调整产品数量或脚本长度

---

## 3. 脚本创作详细步骤

### 步骤3.1：开场白设计

**执行动作**：
1. 使用"小省导购员"人设开场
2. 简短介绍主题（1-2句话）
3. 吸引注意力，激发兴趣
4. 控制在10-15秒

**开场模板**：
- 标准开场："大家好，我是小省导购员！今天给大家推荐[X]款[产品类型]，[核心卖点]！"
- 痛点开场："还在为[痛点]发愁吗？今天小省为大家推荐[X]款[产品类型]，帮你解决问题！"
- 悬念开场："想知道如何在[场景]里选到最合适的[产品类型]吗？今天小省就为大家揭秘！"

### 步骤3.2：产品介绍

**执行动作**：
1. 为每款产品分配25-35秒
2. 突出3个核心卖点
3. 使用具体数据或场景描述
4. 语言口语化，避免专业术语

**产品介绍结构**：
```
产品名称 + 定位（5秒）
→ 核心卖点1 + 具体描述（8-10秒）
→ 核心卖点2 + 使用场景（8-10秒）
→ 核心卖点3 + 优势总结（7-10秒）
```

**示例**：
```
首先是红米Note 13，千元机中的续航怪兽！
5000mAh大电池加上67W快充，续航焦虑彻底说拜拜！
120Hz高刷屏，看视频刷剧都超流畅。
最重要的是，价格只要1299元，性价比真的无敌！
```

### 步骤3.3：对比分析

**执行动作**：
1. 创建对比表格或列表
2. 突出每款产品的优势
3. 给出针对不同人群的建议
4. 保持客观公正

**对比方式**：
- 价位对比：从低到高，说明差异
- 功能对比：主功能 vs 辅助功能
- 适用人群：学生 → 职场 → 专业人士
- 场景对比：日常使用 → 游戏 → 商务

**示例**：
```
三款手机各有优势：
红米Note 13续航最强，适合经常外出的朋友；
realme Q5轻薄好看，适合注重颜值的你；
荣耀Play 6性能最强，游戏党绝对不能错过！
```

### 步骤3.4：结尾设计

**执行动作**：
1. 总结核心信息
2. 给出明确的购买建议
3. 添加行动召唤（CTA）
4. 保持友好热情

**结尾模板**：
- 标准结尾："根据你的需求选择，绝对不踩坑！想了解更多？点击下方链接查看详情哦！"
- 建议结尾："如果你[条件]，推荐[产品A]；如果[条件]，推荐[产品B]。更多优惠，点击下方链接！"
- 互动结尾："你更心动哪一款？在评论区告诉小省吧！想了解更多，点击下方链接哦！"

### 检查点2：脚本质量和时长

**检查项**：
- [ ] 是否符合"小省导购员"人设
- [ ] 每段台词是否在50-80字
- [ ] 产品介绍是否包含核心卖点
- [ ] 对比是否客观公正
- [ ] 是否包含明确的行动召唤
- [ ] 总时长是否在60-120秒

**时长计算**：
- 开场：10-15秒
- 每款产品介绍：25-35秒 × N
- 对比分析：15-20秒
- 结尾：10-15秒
- **3款产品总计**：约100-120秒

**不通过的处理**：
- 如果时长过长 → 删减产品或精简介绍
- 如果人设不符 → 调整语言风格
- 如果卖点不突出 → 强化核心卖点

---

## 4. 视觉设计详细步骤

### 步骤4.1：背景设计

**执行动作**：
1. 根据视频风格确定背景类型
2. 设计色彩方案（主色、辅助色、强调色）
3. 添加适当的装饰元素
4. 确保背景不抢夺主体注意力

**背景风格参考**：
- 科技感：深色渐变、几何线条、光效
- 现代简约：浅色背景、简洁图形、留白
- 温馨居家：暖色调、柔和光线、生活化元素
- 时尚前卫：大胆配色、几何图案、动感元素

**色彩搭配规则**：
- 主色：占60-70%（背景主色调）
- 辅助色：占20-30%（点缀色）
- 强调色：占10%（突出重点，如价格、按钮）

### 步骤4.2：产品展示设计

**执行动作**：
1. 为每款产品设计展示角度
2. 确定产品特写内容（正面、侧面、细节）
3. 添加产品参数标签
4. 设计产品切换动画

**展示方式**：
- 特写展示：突出产品细节
- 场景展示：产品在真实使用场景中
- 分解展示：展示产品的不同部件或颜色
- 动态展示：产品旋转或展开动画

### 步骤4.3：UI元素设计

**执行动作**：
1. 设计价格标签样式
2. 创建对比表格模板
3. 设计参数卡片
4. 添加行动按钮（购买、了解更多）

**UI设计原则**：
- 简洁明了，信息层级清晰
- 色彩对比鲜明，易于阅读
- 与整体风格保持一致
- 适当使用动画效果（不干扰主内容）

### 检查点3：视觉和数字人方案

**视觉设计检查项**：
- [ ] 背景风格是否与视频主题匹配
- [ ] 产品展示是否清晰美观
- [ ] UI元素是否易于识别
- [ ] 色彩搭配是否协调
- [ ] 是否符合脚本中的视觉提示

**数字人方案检查项**：
- [ ] 形象是否符合"小省导购员"人设
- [ ] 表情是否与台词情感匹配
- [ ] 动作是否自然流畅
- [ ] 是否与视觉风格协调

**不通过的处理**：
- 如果风格不匹配 → 调整背景或元素设计
- 如果不协调 → 调整数字人形象或动作

---

## 5. 数字人驱动详细步骤

### 步骤5.1：形象定义

**执行动作**：
1. 根据视频风格和产品类型定义外貌
2. 确定年龄、性别、发型、着装
3. 设计面部特征和表情风格
4. 生成形象描述prompt

### 步骤5.2：表情序列

**执行动作**：
1. 为每个场景匹配情感类型
   - 开场：热情、友好
   - 产品介绍：专业、自信
   - 对比分析：客观、认真
   - 结尾：期待、鼓励
2. 定义面部细节（眼神、微笑、微表情）
3. 确保表情转换自然

### 步骤5.3：动作设计

**执行动作**：
1. 建立手势库（指向产品、双手展示、挥手等）
2. 为每个场景分配适当手势
3. 设计动作节奏和强度
4. 确保动作与台词同步

**动作类型**：
- 开场/结尾：挥手、点头
- 产品介绍：指向产品、双手展示
- 对比分析：手势比较、摊手
- 强调重点：握拳、竖指、点头加强

### 检查点3：视觉和数字人方案

**数字人驱动检查项**：
- [ ] 形象是否符合"小省导购员"人设
- [ ] 表情是否与台词情感匹配
- [ ] 动作是否自然流畅
- [ ] 是否与视觉风格协调

**不通过的处理**：
- 如果人设不符 → 调整形象定义
- 如果表情不匹配 → 重新匹配情感类型
- 如果动作不自然 → 调整手势库或动作强度

---

## 6. 视频合成详细步骤

### 步骤6.1：时间线规划

**执行动作**：
1. 根据脚本时长划分场景
2. 为每个场景分配时间
3. 确定图层顺序（背景 → 产品 → 数字人 → UI）
4. 设计转场效果（淡入淡出、切换、缩放）

**时间线模板**：
```
0:00-0:10   场景1：开场白
0:10-0:35   场景2：产品A介绍
0:35-0:60   场景3：产品B介绍
0:60-0:90   场景4：产品C介绍 + 对比
0:90-1:20   场景5：结尾和CTA
```

### 步骤6.2：图层管理

**执行动作**：
1. 为每个场景定义图层结构
2. 确定每个图层的进入/退出时间
3. 添加图层动画效果
4. 处理图层遮挡关系

**图层顺序示例**：
```
Layer 4: UI元素（最上层）
Layer 3: 数字人
Layer 2: 产品图像
Layer 1: 背景（最底层）
```

### 步骤6.3：音频配置

**执行动作**：
1. 选择背景音乐（风格匹配、节奏适中）
2. 设置背景音乐音量（0.2-0.3）
3. 规划配音或语音合成
4. 确保音画同步

**音频配置规则**：
- 背景音乐：轻快、不抢戏、循环播放
- 配音/语音：清晰、语速适中、情感匹配
- 音效：适度使用（转场、强调重点时）

### 步骤6.4：导出设置

**执行动作**：
1. 确定视频分辨率（推荐1920x1080）
2. 设置帧率（推荐30fps）
3. 选择编码格式（H.264）
4. 设置输出格式（MP4）

### 检查点4：合成方案完整性

**检查项**：
- [ ] 时间线是否完整且无重叠
- [ ] 所有图层是否正确定义
- [ ] 转场效果是否自然
- [ ] 音频配置是否合理
- [ ] 导出设置是否符合要求
- [ ] 总时长是否在60-120秒

**不通过的处理**：
- 如果时间线有问题 → 重新规划场景时间
- 如果图层冲突 → 调整图层顺序或时间
- 如果音频不匹配 → 重新选择背景音乐或调整音量

---

## 7. 质量检查清单

### 最终交付检查

**内容质量**：
- [ ] 产品信息准确无误
- [ ] 对比分析客观公正
- [ ] 导购建议实用有效
- [ ] 无夸大或虚假宣传

**视觉效果**：
- [ ] 视觉风格统一协调
- [ ] 产品展示清晰美观
- [ ] UI元素易于识别
- [ ] 背景不抢夺主体注意力

**数字人表现**：
- [ ] 符合"小省导购员"人设
- [ ] 表情自然不夸张
- [ ] 动作流畅配合台词
- [ ] 音画同步准确

**视频节奏**：
- [ ] 总时长在60-120秒
- [ ] 节奏紧凑不仓促
- [ ] 重点内容突出展示
- [ ] 转场效果自然流畅

**技术规格**：
- [ ] 分辨率：1920x1080
- [ ] 帧率：30fps
- [ ] 输出格式：MP4
- [ ] 编码：H.264

### 异常处理流程

**问题识别**：
1. 在每个检查点发现不符合项
2. 记录具体问题描述
3. 确定问题源头（哪个智能体）

**回溯调整**：
1. 反馈问题给对应智能体
2. 智能体重新生成内容
3. 重新执行后续步骤

**回溯规则**：
- 内容策划问题 → 回溯到步骤2
- 脚本质量问题 → 回溯到步骤3
- 视觉/数字人问题 → 回溯到步骤4
- 合成问题 → 调整合成方案，必要时回溯到步骤3或4

### 交付标准

**最小可用版本（MVP）**：
- 完整的脚本内容
- 视觉设计方案
- 数字人形象和动作描述
- 视频合成方案

**完整版本**（需要技术集成）：
- 实际生成的视觉图像
- 数字人关键帧图像
- 合成的视频文件

---

## 附录：常见问题处理

### Q1：用户需求模糊怎么办？
**A**：使用默认配置
- 产品类型：根据用户描述推断
- 数量：默认3款
- 风格：根据产品类型自动匹配
- 时长：默认100秒

### Q2：脚本时长过长怎么办？
**A**：采用以下策略之一
- 删除1款产品介绍
- 精简每款产品的介绍内容
- 缩短对比分析部分

### Q3：产品信息不准确怎么办？
**A**：
- 优先使用官方信息
- 如果信息缺失，使用通用描述
- 在脚本中标注"具体参数请以官方为准"

### Q4：视觉风格与产品不匹配怎么办？
**A**：
- 根据产品类型调整风格
- 参考同类产品的广告风格
- 确保风格不与产品定位冲突

### Q5：如何保证导购建议的客观性？
**A**：
- 避免使用"最好"、"第一"等绝对化词语
- 对比时说明适用人群
- 推荐时提供依据（性价比、性能、设计等）
