# 素材生成与输出规范

## 目录
- [素材输出目录结构](#素材输出目录结构)
- [图片素材规范](#图片素材规范)
- [音频素材规范](#音频素材规范)
- [字幕素材规范](#字幕素材规范)
- [视频输出规范](#视频输出规范)
- [素材命名规范](#素材命名规范)

---

## 素材输出目录结构

### 标准目录结构
```
output/
├── images/                      # 图片素材目录
│   ├── shot_L01.jpg            # 镜头L01图片
│   ├── shot_L02.jpg
│   └── ...
├── audio/                       # 音频素材目录
│   ├── narration_S01.wav        # 旁白段落S01
│   ├── narration_S02.wav
│   ├── background_music.wav      # 背景音乐
│   ├── merged_audio.wav        # 混合音频(旁白+背景+音效)
│   └── sound_effects/          # 场景音效目录
│       ├── effect_L01.wav
│       └── ...
├── subtitles/                   # 字幕文件目录
│   ├── subtitle.srt            # SRT格式字幕
│   ├── subtitle.ass            # ASS格式字幕
│   └── ...
├── drafts/                      # 草稿视频目录
│   ├── draft_v1.mp4           # 草稿版本1
│   └── ...
└── final/                       # 成品视频目录
    └── final_video_YYYYMMDD.mp4  # 最终成品视频
```

### 目录说明
- **images/**: 存放所有分镜图片,按镜头序号命名
- **audio/**: 存放所有音频素材,包含旁白、背景音乐、音效
- **subtitles/**: 存放字幕文件,支持SRT和ASS格式
- **drafts/**: 存放草稿版本视频,用于预览和修改
- **final/**: 存放最终成品视频,可直接下载使用

---

## 图片素材规范

### 图片格式
- **格式**: JPG/PNG
- **分辨率**: 1080P (1920x1080 或 1080x1920)
- **色彩空间**: sRGB
- **色彩深度**: 8bit/24bit
- **压缩质量**: 85-95% (JPG)

### 图片质量要求
- **清晰度**: 无模糊,边缘锐利
- **噪点**: 无明显噪点,平滑过渡
- **色彩**: 色彩饱和度适中,无色偏
- **曝光**: 无过曝或欠曝,主体细节清晰
- **构图**: 主体居中或符合构图要求,无切割

### 肢体规范
- **人体结构**: 仅展示正常成年人肢体,关节比例协调
- **肢体数量**: 无多余肢体,无肢体重影
- **动作自然**: 手指舒展,手臂下垂,无扭曲
- **商品贴合**: 佩戴类商品无悬浮,与肢体紧密贴合

### 商品细节
- **纹理**: 商品纹理清晰可见
- **轮廓**: 商品轮廓完整,无变形
- **显示**: 屏幕内容清晰,文字可辨
- **按键**: 按键位置准确,无模糊

### 输出文件示例
```
shot_L01.jpg      # 镜头L01,横屏1920x1080
shot_L02.jpg      # 镜头L02,横屏1920x1080
...
```

---

## 音频素材规范

### 音频格式
- **格式**: WAV (无损) / MP3 (有损)
- **采样率**: 44.1kHz 或 48kHz
- **位深**: 16bit 或 24bit
- **声道**: 单声道(旁白) / 立体声(背景音乐)
- **比特率**: MP3: 192kbps 或更高

### 旁白音频
- **内容**: 根据分镜文案生成的旁白文本
- **音色**: 根据视频风格选择(活力男声/专业女声/稳重男声等)
- **语速**: 中等(每秒3-4字),根据情绪调整
- **音量**: 50% (0-100%)
- **情感**: 与画面节奏匹配(积极/专业/沉稳等)

### 背景音乐
- **风格**: 贴合视频调性(科技风/治愈风/复古风等)
- **时长**: 与视频时长一致
- **音量**: 30% (0-100%),不盖过旁白
- **版权**: 无版权问题,可商用

### 场景音效
- **类型**: 脚步声、按键声、机械声等
- **时长**: 根据镜头动作确定(0.5-3秒)
- **音量**: 25-40% (0-100%)
- **清晰度**: 音效清晰,无杂音

### 混合音频
- **组成**: 旁白(50%) + 背景音乐(30%) + 场景音效(25-40%)
- **时长**: 与视频时长一致
- **平衡**: 各音频元素音量平衡,无单一元素过强

### 输出文件示例
```
narration_S01.wav      # 旁白段落S01
narration_S02.wav      # 旁白段落S02
background_music.wav   # 背景音乐
merged_audio.wav       # 混合音频
sound_effects/
  effect_L01.wav       # 镜头L01音效
  effect_L02.wav       # 镜头L02音效
```

---

## 字幕素材规范

### 字幕格式

#### SRT格式
- **文件扩展名**: .srt
- **编码**: UTF-8
- **时间格式**: HH:MM:SS,mmm
- **特点**: 通用格式,支持大多数播放器

#### ASS格式
- **文件扩展名**: .ass
- **编码**: UTF-8
- **时间格式**: H:MM:SS.mm
- **特点**: 支持样式和位置标注,更灵活

### 字幕内容
- **文本**: 与分镜文案一致,无错别字
- **字数**: 每秒1-2字,避免过多
- **断句**: 按句子断行,避免中间断开

### 字幕样式
- **字体**: 无衬线字体(如Arial、思源黑体)
- **字号**: 24-28号(1080P分辨率)
- **颜色**: 白色(深色背景)或黑色(浅色背景)
- **描边**: 轻微描边,增强可读性
- **位置**: 底部居中,避开商品主体

### 输出文件示例
```
subtitle.srt          # SRT格式字幕
subtitle.ass          # ASS格式字幕
```

---

## 视频输出规范

### 视频格式
- **格式**: MP4 (H.264编码)
- **分辨率**: 1080P (1920x1080 或 1080x1920)
- **帧率**: 25fps
- **码率**: 8Mbps 或更高
- **编码**: H.264 (libx264)
- **音频编码**: AAC
- **音频采样率**: 44.1kHz 或 48kHz
- **音频比特率**: 192kbps 或更高

### 视频质量要求
- **画面质量**: 无卡顿,无跳帧,无画面撕裂
- **转场效果**: 自然流畅,无色彩断层,无闪烁
- **音画同步**: 偏移≤0.1秒
- **字幕同步**: 与文案、画面精准对应,无延迟
- **无黑边**: 画面无黑边,充满整个帧

### 转场效果
- **类型**: 淡入淡出、切镜、交叉淡入淡出
- **时长**: 0.3-0.5秒
- **应用**: 相邻镜头之间,增强节奏感

### 输出文件示例
```
final_video_20240122_001.mp4   # 最终成品视频
draft_v1.mp4                    # 草稿版本1
draft_v2.mp4                    # 草稿版本2
```

---

## 素材命名规范

### 通用规则
- 使用英文小写字母和下划线
- 避免空格和特殊字符
- 使用明确的标识符区分类型

### 图片命名
```
shot_{镜头序号}.jpg
示例: shot_L01.jpg, shot_L02.jpg
```

### 音频命名
```
narration_{段落序号}.wav          # 旁白段落
background_music.wav               # 背景音乐
merged_audio.wav                   # 混合音频
effect_{镜头序号}.wav              # 场景音效
示例: narration_S01.wav, effect_L01.wav
```

### 字幕命名
```
subtitle.{格式}
示例: subtitle.srt, subtitle.ass
```

### 视频命名
```
final_video_{日期}_{序号}.mp4    # 成品视频
draft_v{版本号}.mp4                # 草稿视频
示例: final_video_20240122_001.mp4, draft_v1.mp4
```

---

## 素材验证检查清单

### 图片验证
- [ ] 分辨率1080P
- [ ] 格式JPG/PNG
- [ ] 无肢体异常
- [ ] 商品细节清晰
- [ ] 画质细腻无噪点
- [ ] 文件命名规范

### 音频验证
- [ ] 格式WAV/MP3
- [ ] 采样率44.1kHz/48kHz
- [ ] 旁白清晰无杂音
- [ ] 背景音乐风格适配
- [ ] 音量比例合理
- [ ] 文件命名规范

### 字幕验证
- [ ] 格式SRT/ASS
- [ ] 编码UTF-8
- [ ] 文本无错别字
- [ ] 字号适中
- [ ] 位置无遮挡
- [ ] 文件命名规范

### 视频验证
- [ ] 格式MP4 (H.264)
- [ ] 分辨率1080P
- [ ] 帧率25fps
- [ ] 码率≥8Mbps
- [ ] 无卡顿/跳帧
- [ ] 音画同步≤0.1秒
- [ ] 字幕同步无延迟
- [ ] 文件命名规范

---

## 使用说明

1. **生成素材**: 根据分镜脚本,调用对应的素材生成脚本
2. **放置素材**: 将生成的素材按目录结构放置到对应目录
3. **验证素材**: 使用验证检查清单确保素材质量
4. **合成视频**: 调用视频合成脚本,整合所有素材
5. **质检成片**: 使用质检脚本检测成片质量
6. **输出成品**: 将合格成品视频放置到final/目录

**备注**: 所有素材必须严格遵循本规范,确保素材质量和一致性,便于后续合成和质检。
